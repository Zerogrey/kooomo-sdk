<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Kooomo SDK Example</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
          crossorigin="anonymous">
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        section {
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin: 5px 0 2px;
        }

        input, button {
            margin-bottom: 10px;
            padding: 5px;
        }

        iframe {
            width: 100%;
            height: 500px;
            border: 1px solid #ccc;
            margin-top: 10px;
        }

        .output {
            background: #f4f4f4;
            padding: 10px;
            margin-top: 10px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>

<script src="kooomo-sdk.js"></script>

<script>
    const sdk = new KooomoSDK({
        apiKey: 'YOUR-API-KEY-HERE',
        baseUrl: 'https://your-store-domain-here.com'
    });

    function logOutput(id, data) {
        console.log(data);
        document.getElementById(id).textContent = JSON.stringify(data, null, 2);
    }
    function logError(id, data) {
        console.error(data);
        document.getElementById(id).textContent = data;
    }
</script>

<h1>Kooomo StoreFront SDK Example</h1>

<div class="accordion" id="accordion-base">
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-session"
                    aria-expanded="true" aria-controls="collapse-session">
                Session
            </button>
        </h2>
        <div id="collapse-session" class="accordion-collapse collapse show" data-bs-parent="#accordion-base">
            <div class="accordion-body">
                <section>
                    <h3>Create Session</h3>
                    <label>Country</label><input type="text" id="createSessionCountry" value="GB">
                    <button onclick="sdk.createSession({
                        country: document.getElementById('createSessionCountry').value,
                    }).then(data => logOutput('createSessionOuput', data), data => logError('createSessionOuput', data))">Create Session
                    </button>
                    <div id="createSessionOuput" class="output"></div>
                </section>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-checkout"
                    aria-expanded="false" aria-controls="collapse-checkout">
                Checkout
            </button>
        </h2>
        <div id="collapse-checkout" class="accordion-collapse collapse" data-bs-parent="#accordion-base">
            <div class="accordion-body">
                <section>
                    <h3>Add to Cart</h3>
                    <label>Product Code</label><input type="text" id="prodCode" value="DEMO1">
                    <label>SKU Code</label><input type="text" id="skuCode" value="0">
                    <label>Quantity</label><input type="number" id="quantity" value="1">
                    <button onclick="sdk.addToCart({sessionToken: sdk.getSessionToken(), products: [{
                      product_code: document.getElementById('prodCode').value,
                      sku_code: document.getElementById('skuCode').value,
                      quantity: parseInt(document.getElementById('quantity').value)
                    }]}).then(data => logOutput('addToCartOutput', data), data => logError('addToCartOutput', data))">Create Session
                    </button>
                    <div id="addToCartOutput" class="output"></div>
                </section>

                <section>
                    <h3>Get Cart</h3>
                    <label>Country</label><input type="text" id="getCartCountry" value="GB">
                    <label>Language</label><input type="text" id="getCartLanguage" value="EN">
                    <button onclick="sdk.getCart({
                        sessionToken: sdk.getSessionToken(),
                        language: document.getElementById('getCartLanguage').value,
                        country: document.getElementById('getCartCountry').value,
                    }).then(data => logOutput('cartOutput', data))">Print Cart
                    </button>
                    <div id="cartOutput" class="output"></div>
                </section>

                <section>
                    <button onclick="logOutput('checkoutUrlOutput', sdk.getCheckoutUrl(sdk.getSessionToken()))">Get
                        Checkout URL
                    </button>
                    <div id="checkoutUrlOutput" class="output"></div>
                </section>

                <section>
                    <button onclick="document.getElementById('checkoutFrame').src = sdk.getCheckoutUrl(sdk.getSessionToken())">
                        Open Checkout in Iframe
                    </button>
                    <iframe id="checkoutFrame"></iframe>
                </section>

                <section>
                    <button onclick="sdk.redirectToCheckout(sdk.getSessionToken())">Redirect to Checkout</button>
                </section>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-catalog" aria-expanded="false" aria-controls="collapse-catalog">
                Catalog
            </button>
        </h2>
        <div id="collapse-catalog" class="accordion-collapse collapse" data-bs-parent="#accordion-base">
            <div class="accordion-body">
                <section>
                    <h3>Get Product Details</h3>
                    <label>Product Code</label><input type="text" id="detailProductCode" value="DEMO1">
                    <label>Sku Code</label><input type="text" id="detailSkuCode" value="">
                    <label>Language</label><input type="text" id="detailLanguage" value="EN">
                    <label>Country</label><input type="text" id="detailCountry" value="GB">
                    <button onclick="sdk.getProductDetails(document.getElementById('detailProductCode').value, {
                        sku_code: document.getElementById('detailSkuCode').value,
                        country: document.getElementById('detailCountry').value,
                        language: document.getElementById('detailLanguage').value,
                    }).then(data => logOutput('productDetailsOutput', data))">Get Product Details
                    </button>
                    <div id="productDetailsOutput" class="output"></div>
                </section>

                <section>
                    <h3>Get Product Availability</h3>
                    <label>Product Code</label><input type="text" id="availabilityProductCode" value="DEMO1">
                    <label>SKU Code</label><input type="text" id="skuAvailability">
                    <label>Country ISO 2 Code</label><input type="text" id="countryAvailability" value="GB">
                    <button onclick="sdk.getProductAvailability(document.getElementById('availabilityProductCode').value, {
                        country: document.getElementById('countryAvailability').value,
                        sku_code: document.getElementById('skuAvailability').value,
                    }).then(data => logOutput('productAvailabilityOutput', data))">Get Product Availability
                    </button>
                    <div id="productAvailabilityOutput" class="output"></div>
                </section>

                <section>
                    <h3>Get Product Price</h3>
                    <label>Product Code</label><input type="text" id="priceProductCode" value="DEMO1">
                    <label>SKU Code</label><input type="text" id="skuPrice">
                    <label>Country ISO 2 Code</label><input type="text" id="countryPrice" value="GB">
                    <button onclick="sdk.getProductPrice(document.getElementById('priceProductCode').value, {
                        country: document.getElementById('countryPrice').value,
                        sku_code: document.getElementById('skuPrice').value,
                    }).then(data => logOutput('productPriceOutput', data))">Get Product Price
                    </button>
                    <div id="productPriceOutput" class="output"></div>
                </section>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-user" aria-expanded="false" aria-controls="collapse-user">
                User
            </button>
        </h2>
        <div id="collapse-user" class="accordion-collapse collapse" data-bs-parent="#accordion-base">
            <div class="accordion-body">
                <section>
                    <h3>Login User</h3>
                    <label>Email</label><input type="email" id="loginUserEmail">
                    <label>Password</label><input type="password" id="loginUserPassword">
                    <button onclick="sdk.login(
                        getElementById('loginUserEmail').value,
                        getElementById('loginUserPassword').value,
                    ).then(data => logOutput('loginOutput', data), data => logError('loginOutput', data))">Login
                    </button>
                    <div id="loginOutput" class="output"></div>
                </section>

                <section>
                    <h3>Register User</h3>
                    <label>Email</label><input type="email" id="registerUserEmail">
                    <label>Password</label><input type="password" id="registerUserPassword">
                    <label>Privacy Profiling</label><input type="checkbox" id="registerUserPrivacyProfiling">
                    <label>Privacy Marketing</label><input type="checkbox" id="registerUserPrivacyMarketing">
                    <label>Privacy Fidelity</label><input type="checkbox" id="registerUserPrivacyFidelity">
                    <label>First Name</label><input type="text" id="registerUserFirstName">
                    <label>Last Name</label><input type="text" id="registerUserLastName">
                    <label>Shipping Address Line 1</label><input type="text" id="registerUserAddress1">
                    <label>Shipping Address Line 2</label><input type="text" id="registerUserAddress2">
                    <label>Shipping Address Line 3</label><input type="text" id="registerUserAddress3">
                    <label>City</label><input type="text" id="registerUserCity">
                    <label>State</label><input type="text" id="registerUserState">
                    <label>Country</label><input type="text" id="registerUserCountry">
                    <label>Postcode</label><input type="text" id="registerUserPostcode">
                    <label>Telephone</label><input type="text" id="registerUserTelephone">
                    <button onclick="sdk.registerUser({
                        email: document.getElementById('registerUserEmail').value,
                        password: document.getElementById('registerUserPassword').value,
                        first_name: document.getElementById('registerUserFirstName').value,
                        last_name: document.getElementById('registerUserLastName').value,
                        privacy_profiling: document.getElementById('registerUserPrivacyProfiling').checked,
                        privacy_marketing: document.getElementById('registerUserPrivacyMarketing').checked,
                        privacy_fidelity: document.getElementById('registerUserPrivacyFidelity').checked,
                        shipping_address: {
                            address_1: document.getElementById('registerUserAddress1').value,
                            address_2: document.getElementById('registerUserAddress2').value,
                            address_3: document.getElementById('registerUserAddress3').value,
                            city: document.getElementById('registerUserCity').value,
                            country: document.getElementById('registerUserCountry').value,
                            state: document.getElementById('registerUserState').value,
                            telephone: document.getElementById('registerUserTelephone').value,
                            post_code: document.getElementById('registerUserPostcode').value,
                        },
                    }).then(data => logOutput('registerOutput', data), data => logError('registerOutput', data))">Register
                    </button>
                    <div id="registerOutput" class="output"></div>
                </section>

                <section>
                    <button onclick="document.getElementById('ordersFrame').src = sdk.getOrdersUrl(sdk.getSessionToken())">
                        List my orders in Iframe
                    </button>
                    <iframe id="ordersFrame"></iframe>
                </section>

                <section>
                    <h3>Get Countries</h3>
                    <button onclick="sdk.getCountries()
                    .then(data => logOutput('countriesOutput', data), data => logError('countriesOutput', data))">Get Countries
                    </button>
                    <div id="countriesOutput" class="output"></div>
                </section>

                <section>
                    <h3>Get States</h3>
                    <label>Country</label><input type="text" id="country">
                    <button onclick="sdk.getStates(
                        getElementById('country').value,
                    ).then(data => logOutput('stateOutput', data), data => logError('stateOutput', data))">Get States
                    </button>
                    <div id="stateOutput" class="output"></div>
                </section>

                <section>
                    <h3>Recover Password</h3>
                    <label>Email</label><input type="email" id="recoverPasswordEmail">
                    <button onclick="sdk.recoverPassword(
                        document.getElementById('recoverPasswordEmail').value
                    ).then(data => logOutput('recoverOutput', data), data => logError('recoverOutput', data))">Recover Password
                    </button>
                    <div id="recoverOutput" class="output"></div>
                </section>

                <section>
                    <h3>Reset Password</h3>
                    <label>Email</label><input type="email" id="resetPasswordEmail">
                    <label>Code</label><input type="text" id="resetPasswordCode">
                    <label>New Password</label><input type="password" id="resetPasswordNewPassword">
                    <button onclick="sdk.resetPassword(
                        document.getElementById('resetPasswordEmail').value,
                        document.getElementById('resetPasswordCode').value,
                        document.getElementById('resetPasswordNewPassword').value
                    ).then(data => logOutput('resetOutput', data), data => logError('resetOutput', data))">Reset Password
                    </button>
                    <div id="resetOutput" class="output"></div>
                </section>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>
</html>
